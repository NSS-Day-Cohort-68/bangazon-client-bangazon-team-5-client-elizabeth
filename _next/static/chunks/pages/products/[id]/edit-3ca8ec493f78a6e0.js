(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{911:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]/edit",function(){return n(5001)}])},900:function(t,e,n){"use strict";n.d(e,{II:function(){return r},Ph:function(){return a},gx:function(){return c}});var o=n(5893);function r(t){var e=t.id,n=t.type,r=void 0===n?"text":n,a=t.placeholder,c=void 0===a?"":a,i=t.refEl,u=void 0===i?void 0:i,l=t.label,s=void 0===l?void 0:l,d=t.onChangeEvent,f=t.addlClass,h=void 0===f?"":f,p=t.children;return(0,o.jsxs)("div",{className:"field ".concat(h),children:[s&&(0,o.jsx)("label",{className:"label",children:s}),(0,o.jsx)("div",{className:"control",children:(0,o.jsx)("input",{id:e,placeholder:c,className:"input",type:r,ref:u,onChange:d})}),p]})}function a(t){var e=t.id,n=t.refEl,r=t.options,a=t.title,c=t.label,i=t.addlClass,u=void 0===i?"":i;return(0,o.jsxs)("div",{className:"field is-expanded",children:[c?(0,o.jsx)("label",{className:"label",children:c}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)("div",{className:"select ".concat(u," is-fullwidth"),children:(0,o.jsxs)("select",{id:e,ref:n,children:[(0,o.jsx)("option",{value:"0",children:a}),r.map((function(t){return(0,o.jsx)("option",{value:t.id,children:t.name},t.id)}))]})})]})}function c(t){var e=t.id,n=t.label,r=t.placeholder;return(0,o.jsxs)("div",{className:"field",children:[(0,o.jsx)("label",{className:"label",children:n}),(0,o.jsx)("div",{className:"control",children:(0,o.jsx)("textarea",{id:e,className:"textarea",placeholder:r})})]})}},367:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var o=n(5893),r=n(7294),a=n(288),c=n(3400),i=n(900);function u(t){var e=t.formEl,n=t.saveEvent,u=t.title,l=t.router,s=(0,r.useState)([]),d=s[0],f=s[1];return(0,r.useEffect)((function(){(0,a.CP)().then((function(t){return f(t)}))}),[]),(0,o.jsxs)(c.Z,{title:u,children:[(0,o.jsxs)("form",{ref:e,children:[(0,o.jsx)(i.II,{id:"name",label:"Name"}),(0,o.jsx)(i.gx,{id:"description",label:"Description"}),(0,o.jsx)(i.Ph,{id:"category",options:d,label:"Category",title:"Select a Category"}),(0,o.jsx)(i.II,{id:"price",label:"Price"}),(0,o.jsx)(i.II,{id:"location",label:"Location"}),(0,o.jsx)(i.II,{id:"quantity",label:"Quantity",type:"number"})]}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("a",{className:"card-footer-item",onClick:n,children:"Save"}),(0,o.jsx)("a",{className:"card-footer-item",onClick:function(){return l.back()},children:"Cancel"})]})]})}},288:function(t,e,n){"use strict";n.d(e,{Xp:function(){return r},CP:function(){return a},gk:function(){return c},SA:function(){return i},Ir:function(){return u},H1:function(){return l},gK:function(){return s},zG:function(){return d},_$:function(){return f},L8:function(){return h},SK:function(){return p}});var o=n(8519);function r(t){var e=void 0===t?void 0:t,n="products";return e&&(n+="?".concat(e)),(0,o.D)(n,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}})}function a(){return(0,o.D)("productcategories",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}})}function c(t){return(0,o.D)("products/".concat(t),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}})}function i(t){return(0,o.G)("cart/".concat(t),{method:"DELETE",headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}})}function u(t){return(0,o.G)("products/".concat(t),{method:"DELETE",headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}})}function l(t,e){return(0,o.D)("products/".concat(t,"/rate-product"),{method:"POST",headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(e)})}function s(t){return(0,o.D)("products",{method:"POST",headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(t)})}function d(t,e){return(0,o.G)("products/".concat(t),{method:"PUT",headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(e)})}function f(t,e){return(0,o.D)("products/".concat(t,"/recommend"),{method:"POST",headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({username:e})})}function h(t){return(0,o.G)("products/".concat(t,"/like"),{method:"POST",headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}})}function p(t){return(0,o.G)("products/".concat(t,"/unlike"),{method:"DELETE",headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}})}},5001:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var o=n(5893),r=n(1163),a=n(7294),c=n(2469),i=n(1127),u=n(288),l=n(367),s=n(7569);function d(){var t=(0,a.useRef)(),e=(0,r.useRouter)(),n=(0,a.useState)(),c=n[0],i=n[1],d=(0,s.b)().profile,f=e.query.id;(0,a.useEffect)((function(){f&&d&&(0,u.gk)(f).then((function(t){var n;t&&(t.store.id===(null===(n=d.store)||void 0===n?void 0:n.id)?i(t):e.back())}))}),[f,d]),(0,a.useEffect)((function(){if(c){var e=t.current,n=e.name,o=e.description,r=e.price,a=e.category,i=e.location,u=e.quantity;n.value=c.name,o.value=c.description,r.value=c.price,a.value=c.category.id,i.value=c.location,u.value=c.quantity}}),[t,c]);return(0,o.jsx)(l.Z,{formEl:t,saveEvent:function(){var n=t.current,o=n.name,r=n.description,a=n.price,c=n.category,i=n.location,l=n.quantity,s={name:o.value,description:r.value,price:a.value,categoryId:c.value,location:i.value,quantity:l.value};(0,u.zG)(f,s).then((function(){return e.push("/products/".concat(f))}))},title:"Add a new product",router:e})}d.getLayout=function(t){return(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(i.Z,{}),t]})}}},function(t){t.O(0,[824,774,888,179],(function(){return e=911,t(t.s=e);var e}));var e=t.O();_N_E=e}]);